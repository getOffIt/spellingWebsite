# Voice Manifest Implementation - Requirements Clarification

This document captures the requirements clarification process for the voice manifest feature.

## Question 1: Voice Selection Strategy

Currently, your voice tool supports multiple voices (Rachel, Dorothy, Emily, Thomas, Antoni, Adam, etc.). For the manifest file, should we:

A) Always use the "best" or "approved" voice for each word (one URL per word)
B) Include all available voices for each word (nested structure)
C) Use a primary voice (like Rachel) as default, with fallbacks for missing words

What's your preference for handling multiple voices in the manifest?

**Answer**: There will only be one voice per word found in the manifest.

## Question 2: Voice Selection Logic

Since there will be only one voice per word in the manifest, how should the voice tool determine which voice to include for each word?

A) Always use the first available voice found (e.g., Rachel as primary)
B) Use the "approved" voice from your review workflow (the one you accepted)
C) Use a specific priority order (Rachel → Dorothy → Emily → etc.)
D) Let the user specify which voice to use when generating the manifest

What logic should determine which voice gets included in the manifest?

**Answer**: There's a manual workflow to select the voices explained in /voice-tool/readme.md. The manifest can be created by looking up what mp3s are uploaded in the S3 in the /voices folder.

## Question 3: Manifest Generation Strategy

Based on your answer, the manifest should be generated by scanning the S3 /voices folder to see what MP3 files actually exist. This means:

- The manifest reflects the current state of uploaded audio files
- Only words with uploaded MP3s appear in the manifest
- The voice used is determined by which voice folder contains the MP3

Should the manifest generation:

A) Scan all voice folders (rachel/, dorothy/, emily/, etc.) and use the first MP3 found for each word
B) Prioritize specific voice folders in order (rachel first, then dorothy, etc.)
C) Include metadata about which voice was used for each word
D) Simply map word → URL without caring about voice names

How should we handle cases where a word exists in multiple voice folders?

**Answer**: Pick the first one.

## Requirements Summary

Based on the clarification, the voice manifest implementation should:

1. **Single voice per word**: Only one URL per word in the manifest
2. **S3-based generation**: Scan the actual S3 `/voices` folder to see what MP3s exist
3. **First-found logic**: If a word exists in multiple voice folders, use the first one found
4. **Simple structure**: Flat JSON mapping `wordId → full_URL`

The manifest will reflect the current state of uploaded audio files from your manual voice selection workflow.
